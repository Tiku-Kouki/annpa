#pragma once
#include <Novice.h>
#include"Struct.h"
#include"Resources.h"


class Stage {
public:
	Stage();
	Resources* resources;
	
	enum MapInfo {
		NONE, // 0　(ブロックなし)
		BLOCK, // 1　(ブロックあり)
		BLOOD,//2 (血)
		Galle,//3　(ゴール)
		UP_NEEDLE,//4 (上向きの鍾乳洞)
		DOWN_NEEDLE//5 (下向きの鍾乳洞)
	};

	typedef struct Block {
		MapInfo state; //ブロックの状態
		Vector2 pos; //座標

		Vector2 size; //画像の大きさ
		Vector2 imagePos; //読み込む画像の座標
	};

	
	int blockSize ;//ブロックサイズ
	
	

	//スクロール処理
	float scrollStartX;
	float lineY ;

	int scrollX ;
	
	float monitorX ;

	/*********************
	マップチップ配置ここから
	*********************/
	//チュートリアル
	 int map[mapHeight][mapWidth]{
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,},
		{1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,},
		{1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,0,0,0,1,0,0,0,2,0,0,3,},
		{1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,3,},
		{1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,},
		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	};

	Block block[mapHeight][mapWidth]{};

	//ステージ１
	 int map1[mapHeight][mapWidth]{
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
		{1,0,0,0,0,0,1,2,0,0,0,0,1,0,0,0,0,1,0,0,2,1,1,1,1,0,0,0,0,1,},
		{1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1,},
		{1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,3,},
		{1,0,0,0,1,0,1,0,0,0,0,0,1,1,1,0,0,1,1,1,1,2,1,0,0,0,0,0,0,3,},
		{1,0,0,0,1,0,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,},
		{1,0,0,0,1,2,1,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	};

	Block block1[mapHeight][mapWidth]{};

	//ステージ2
	int map2[mapHeight][mapWidth]{
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
		{1,0,0,0,5,5,1,0,0,2,0,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,1,0,1,},
		{1,0,0,0,0,0,5,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,1,},
		{1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,2,0,0,0,0,1,1,1,1,1,0,3,},
		{1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,3,},
		{1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,},
		{1,0,0,0,4,0,0,0,0,1,1,4,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,0,0,1,},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	};

	Block block2[mapHeight][mapWidth]{};


	void Draw();

};